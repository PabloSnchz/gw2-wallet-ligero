<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GW2 Wallet — v1.4.0-preview4 (con header-texture)</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="dense">
  <header class="an-header">
    <div class="an-header__texture"></div><!-- textura -->
    <div class="an-header__inner">
      <div class="an-brand">GW2 Wallet</div>
      <nav class="an-nav">
        <button id="tabCards" class="an-tab an-tab--active" data-view="cards">Tarjetas</button>
        <button id="tabCompact" class="an-tab" data-view="compact">Compacta</button>
        <a class="an-link" href="https://account.arena.net/applications" target="_blank" rel="noopener">API Keys</a>
      </nav>
    </div>
    <div class="an-accent"></div>
  </header>

  <main class="container">
    <section class="panel">
      <h2 class="panel__title">Divisas de la cuenta</h2>
      <div class="panel__body">
        <div class="owner">
          <div class="owner-left">
            <span class="muted">Cuenta:</span>
            <span id="ownerLabel" class="owner__pill">—</span>
          </div>
          <div class="owner-right">
            <label for="keySelect" class="muted">Seleccionar KEY</label>
            <select id="keySelect"></select>
            <button id="copyKeyBtn" class="icon-btn" title="Copiar API Key" aria-label="Copiar">
              <svg class="icon" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v12h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
            </button>
            <button id="renameKeyBtn" class="icon-btn" title="Renombrar API Key" aria-label="Renombrar">
              <svg class="icon" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04l-2.34-2.34-1.42 1.42 2.34 2.34 1.42-1.42z"/></svg>
            </button>
            <button id="deleteKeyBtn" class="icon-btn" title="Eliminar API Key" aria-label="Eliminar">
              <svg class="icon" viewBox="0 0 24 24"><path d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1z"/></svg>
            </button>
            <button id="refreshBtn" class="icon-btn" title="Actualizar datos" aria-label="Actualizar">
              <svg class="icon" viewBox="0 0 24 24"><path d="M12 6V3L8 7l4 4V8c2.76 0 5 2.24 5 5s-2.24 5-5 5-5-2.24-5-5H5c0 3.87 3.13 7 7 7s7-3.13 7-7-3.13-7-7-7z"/></svg>
            </button>
          </div>
        </div>

        <div class="filters">
          <div class="field"><label for="searchBox">Buscar</label><input id="searchBox" type="text" placeholder="Nombre de la divisa…" /></div>
          <div class="field"><label for="categorySelect">Categoría</label>
            <select id="categorySelect"><option value="">Todas</option><option value="general">Generales</option><option value="competitive">Competitivas</option><option value="map">De mapa</option><option value="key">Llaves</option><option value="dungeon">Mazmorras/Fractales</option><option value="blacklion">Black Lion</option><option value="historic">Históricas</option></select>
          </div>
          <div class="field"><label for="sortSelect">Orden</label>
            <select id="sortSelect"><option value="order">Orden del juego</option><option value="name">Nombre (A→Z)</option><option value="amount">Cantidad (desc)</option></select>
          </div>
          <div class="field checkbox"><label><input type="checkbox" id="onlyPositive" /> Solo &gt; 0</label></div>
          <div class="field checkbox"><label><input type="checkbox" id="onlyMain" /> Solo principales</label></div>
        </div>

        <p class="status" id="status">Esperando acción…</p>

        <!-- Contenido con exclusividad estricta por style.display -->
        <div id="walletCards" class="grid" style="display:grid" aria-live="polite"></div>
        <div id="walletTableWrap" class="table-wrap" style="display:none">
          <table class="table" id="walletTable" aria-label="Divisas (vista compacta)">
            <thead><tr><th>Icono</th><th>Divisa</th><th class="right">Cantidad</th><th>Categorías</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <script src="js/app.js"></script>
</body>
</html>
